## 234数
每个节点最多有3个数据项和4个子节点
分别为2、3、4树
1个数据有2个节点，称为2树。2个数据有3个节点，称为3树。
## 节点上溢
插入第4个数据，把中间数据上溢再插入

## 红黑树
1. 节点是红色或黑色
2. 根节点是黑色
3. 叶子节点是黑色，且都为空（最底层不存放数据的节点）
4. 红色节点的父节点和子节点都是黑色（不存在两个连续的红色节点）
5. 从任一节点到叶子节点的所有路径包含相同数量的黑色节点

如何用234树来理解红黑树呢？
红黑树中的红色节点上溢，就变成了234树。
黑色节点的数量和234树节点的数量相等，且234树中每一个节点中：黑色节点必为父节点，红色节点为子节点（黑色在中间，红色两边）

## 红黑树的插入
1. 如果插入的是根节点，则为黑色
2. 其余插入情况最开始一定是红色（插入节点是红色的话只有一种冲突情况，只需要旋转和变色进行调整） 
总共有12种情况：
1. 4种父节点为黑色节点的情况不需要调整，其他父节点为红色节点的情况需要调整
2. 4种叔父节点不是红色（空节点均为黑色节点）的情况：
LL意思是**父节点**是祖父的左节点，**插入节点**是父节点的左节点
LL/RR：父一次右旋/父一次左旋 + 变色
RL/LR：父右旋 祖父左旋/父左旋 祖父右旋 + 变色

3. 4种叔父节点是红色的情况（需要上溢）：
上溢是234树的，在红黑树中不会表现出来，只是更好理解，这种情况只需要变色
把父节点和叔父节点染位黑色，祖父节点变为红色，向上递归

## 红黑树的删除
红黑树要删除的节点与其**前驱节点或后驱节点交换**，前驱是第一个比当前节点小的节点（左边）
1. 交换完后对要删除的这个节点（已经变换到前驱位置）如果是红色节点，直接删除
2. 黑色节点的删除需要调整
   2.1 有2个红色子节点的黑色节点  不存在 会转化为对其子节点的删除
   2.2 有1个红色字节点的黑色节点   替代、删除，把替代的节点变为黑色
   2.3 黑色叶子节点
      2.3.1 删除节点为根节点，直接删除
      2.3.2 删除节点的兄弟节点为黑色
         2.3.2.1 兄弟节点有红色子节点 （借用兄弟的红色子节点修复）
         2.3.2.2 兄弟节点没有红色子节点 （父节点向下合并）
      2.3.3 删除节点的兄弟节点为红色 （转变为黑色来处理）


2.3.2.1 步骤
在删除节点后进行旋转
中心节点染为父节点的颜色
两个子节点染为黑色

2.3.2.2 步骤
如果父节点是红色：只需要变色，父节点变为黑色，兄弟节点变为红色
如果父节点是黑色：兄弟节点变为红色，对父节点当作删除后的节点调用after_remove ，递归